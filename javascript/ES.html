<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title id="title">es</title>
</head>

<body>

</body>
<script>
    class Student {
        constructor(name) {
            this.name = name;
        }

        hello() {
            console.log('Hello,' + this.name);
        }
    }

    //实类化
    let karl = new Student('karl')
    karl.hello()

    //extends   继承Student的所有方法
    class PrimaryStudent extends Student {
        constructor(name, grade) {
            //super用在构造函数中，必须在this之前调用
            //super(name) <=> PrimaryStudent.call(this,name)
            super(name);
            this.grade = grade;
        }

        myGrade() {
            //super.methodName() 调用父类方法
            super.hello()
            console.log('I am at grade ' + this.grade);
        }
    }

    let jay = new PrimaryStudent('jay', '100')
    jay.myGrade()

    // promise
    //做饭
    function cook() {
        console.log('开始做饭。');
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                console.log('做饭完毕！');
                resolve('鸡蛋炒饭');
            }, 2000);
        });
    }

    //吃饭
    function eat(data) {
        console.log('开始吃饭：' + data);
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                console.log('吃饭完毕!');
                resolve('一块碗和一双筷子');
            }, 2000);
        });
    }

    function wash(data) {
        console.log('开始洗碗：' + data);
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                console.log('洗碗完毕!');
                // resolve('干净的碗筷');
                reject('闹肚子了')
            }, 2000);
        });
    }

    cook()
        .then((data) => {
            return eat(data);
        })
        .then((data) => {
            return wash(data);
        })
        .catch((err) => {
            console.log(err);
        });
</script>

</html>